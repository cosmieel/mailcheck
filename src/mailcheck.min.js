/*1.0.3*/var Kicksend={mailcheck:{threshold:3,defaultDomains:["yahoo.com","google.com","hotmail.com","gmail.com","me.com","aol.com","mac.com","live.com","comcast.net","googlemail.com","msn.com","hotmail.co.uk","yahoo.co.uk","facebook.com","verizon.net","sbcglobal.net","att.net","gmx.com","mail.com","outlook.com"],defaultTopLevelDomains:["co.uk","com","net","org","info","edu","gov","mil"],run:function(e){e.domains=e.domains||Kicksend.mailcheck.defaultDomains;e.topLevelDomains=e.topLevelDomains||Kicksend.mailcheck.defaultTopLevelDomains;e.distanceFunction=e.distanceFunction||Kicksend.sift3Distance;var t=Kicksend.mailcheck.suggest(e.email,e.domains,e.topLevelDomains,e.distanceFunction);if(t){if(e.suggested){e.suggested(t)}}else{if(e.empty){e.empty()}}},suggest:function(e,t,n,r){e=e.toLowerCase();var i=this.splitEmail(e),s=[];for(var o=0;o<i.length;o++){var u=this.findClosestDomain(i[o].domain,t,r);if(u){if(u!=i[o].domain){s.push({address:i[o].address,domain:u,full:i[o].address+"@"+u,original:i[o].address+"@"+i[o].domain})}}else{var a=this.findClosestDomain(i[o].topLevelDomain,n);if(i[o].domain&&a&&a!=i[o].topLevelDomain){var f=i[o].domain;u=f.substring(0,f.lastIndexOf(i[o].topLevelDomain))+a;s.push({address:i[o].address,domain:u,full:i[o].address+"@"+u,original:i[o].address+"@"+i[o].domain})}}}if(s.length==0){return false}else if(s.length==1){return s[0]}else{return s}},findClosestDomain:function(e,t,n){var r;var i=99;var s=null;if(!e||!t){return false}if(!n){n=this.sift3Distance}for(var o=0;o<t.length;o++){if(e===t[o]){return e}r=n(e,t[o]);if(r<i){i=r;s=t[o]}}if(i<=this.threshold&&s!==null){return s}else{return false}},sift3Distance:function(e,t){if(e==null||e.length===0){if(t==null||t.length===0){return 0}else{return t.length}}if(t==null||t.length===0){return e.length}var n=0;var r=0;var i=0;var s=0;var o=5;while(n+r<e.length&&n+i<t.length){if(e.charAt(n+r)==t.charAt(n+i)){s++}else{r=0;i=0;for(var u=0;u<o;u++){if(n+u<e.length&&e.charAt(n+u)==t.charAt(n)){r=u;break}if(n+u<t.length&&e.charAt(n)==t.charAt(n+u)){i=u;break}}}n++}return(e.length+t.length)/2-s},splitEmail:function(e){var t=e.split(","),n=[];for(var r=0;r<t.length;r++){var i;var s=/^[a-zA-Z0-9.!#$%&â€™*+=?^_`{|}~-]+/;var o=t[r].trim().split("@");if(o.length<2){return false}for(var u=0;u<o.length;u++){if(o[u]===""){return false}i=o[u].match(s)!=o[u];if(i){return false}}var a=o.pop();var f=a.split(".");var l="";if(f.length==0){return false}else if(f.length==1){l=f[0]}else{for(var u=1;u<f.length;u++){l+=f[u]+"."}if(f.length>=2){l=l.substring(0,l.length-1)}}n.push({address:o.join("@"),domain:a,topLevelDomain:l})}return n}}};if(typeof module!=="undefined"&&module.exports){module.exports=Kicksend.mailcheck}if(typeof window!=="undefined"&&window.jQuery){(function(e){e.fn.mailcheck=function(e){var t=this;if(e.suggested){var n=e.suggested;e.suggested=function(e){n(t,e)}}if(e.empty){var r=e.empty;e.empty=function(){r.call(null,t)}}e.email=this.val();Kicksend.mailcheck.run(e)}})(jQuery)}